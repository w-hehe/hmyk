import{_ as U,d as K,r as G,a as I,o as S,w as Y,c as r,b as o,e as p,f as l,g as a,h as n,u as J,i as c,j as t,k as h,s as O,l as P,F as y,m as v,n as m,p as Q,t as s}from"./index.9ff7eb4f.js";import{c as W,F as X,_ as Z}from"./footer.1784d682.js";import{L as V}from"./storage.d2b28a6e.js";const ee="/api/v1/pisces/";function ae(){return W({url:ee+"index",method:"get"})}const te={class:"container"},oe={style:{"min-height":"calc(100% - 145px)"}},de={style:{display:"block"}},ne={style:{"font-size":"12px","margin-top":"5px",display:"block"}},ie=["innerHTML"],le={class:"dialog-footer",style:{}},se=m("\u786E\u5B9A"),re={style:{padding:"14px"}},ce={class:"goods-name"},pe=m("\u8D2D\u4E70"),me=["src"],ue={key:1,class:"goods-image",style:{width:"1px",height:"60px"}},ge={key:2,style:{position:"absolute"},class:"goods-name"},_e={key:3,style:{},class:"goods-name"},fe={key:4,class:"goods-info",style:{position:"absolute",bottom:"5px",left:"10px"}},be={key:5,class:"goods-info",style:{position:"absolute",bottom:"5px",left:"80px"}},he={key:0},xe={class:"category-main"},ye={key:0,class:"image-box"},ve=["onClick","src"],we={class:"goods-data"},ke=["onClick"],Ce={class:"goods-footer"},Fe=K({__name:"index",setup(Ee){const e=G({data:{site_name:"",template:{site:{}}},loading:!0,ejectDialog:!1,eject:"",keyword:"",index_dialog:!1}),x=J(),E=I();S(()=>{Y(()=>{if(e.data.template=E.value.state.data,Q(e.data.template.site.shop_title),e.data.template.options.index_eject!=""&&e.data.template.options.index_eject!=null){e.eject=e.data.template.options.index_eject;var _=V.get("index_dialog");e.data.template.date!=_&&(e.ejectDialog=!0)}})});var q=()=>{console.log(e.keyword),e.keyword!=""&&x.push({path:"/search",query:{keyword:e.keyword}})},L=()=>{e.ejectDialog=!1,e.index_dialog==!0&&V.set("index_dialog",e.data.template.date)};function z(_){x.push({path:"/goods",query:{goods_id:_.id}})}return ae().then(_=>{e.loading=!1,e.data=_.data}),(_,g)=>{const w=c("el-card"),f=c("el-main"),k=c("el-container"),T=c("el-input"),C=c("el-col"),F=c("el-row"),$=c("el-checkbox"),j=c("el-button"),A=c("el-dialog"),M=c("el-skeleton-item"),H=c("el-image"),B=c("router-link"),b=c("el-table-column"),u=c("el-tag"),D=c("el-table"),N=c("el-skeleton");return t(),r("div",te,[o(Z,{default_active:1,ref_key:"headerRef",ref:E},null,512),p("div",oe,[e.data.template.notice!=""?(t(),l(k,{key:0},{default:a(()=>[o(f,{style:{"max-width":"1120px",margin:"0 auto",padding:"10px","margin-top":"5px"}},{default:a(()=>[o(w,{shadow:"always",class:"box-card notice-box",innerHTML:e.data.template.notice,style:{padding:"10px 20px"}},null,8,["innerHTML"])]),_:1})]),_:1})):n("",!0),o(k,{class:"search-mobile"},{default:a(()=>[o(f,{style:{"max-width":"1120px",margin:"0 auto",padding:"0 10px"}},{default:a(()=>[o(T,{style:{height:"38px"},class:"w-50 m-2",placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD\u67E5\u8BE2","suffix-icon":h(O),onKeyup:g[0]||(g[0]=P(i=>h(q)(),["enter"])),modelValue:e.keyword,"onUpdate:modelValue":g[1]||(g[1]=i=>e.keyword=i)},null,8,["suffix-icon","modelValue"])]),_:1})]),_:1}),e.data.template.home_category=="normal"?(t(),l(k,{key:1},{default:a(()=>[o(f,{style:{"max-width":"1120px",margin:"0 auto",padding:"10px"}},{default:a(()=>[o(w,{shadow:"always",class:"box-card","body-style":{padding:"5px 20px 15px 20px"}},{default:a(()=>[o(F,{gutter:10},{default:a(()=>[(t(!0),r(y,null,v(e.data.goods,i=>(t(),l(C,{xs:12,sm:8,md:6,lg:4,xl:4,class:"category-list"},{default:a(()=>[o(w,{onClick:d=>h(x).push({path:"/category-list",query:{id:i.id}}),shadow:"hover",class:"five","body-style":{padding:"12px 12px"}},{default:a(()=>[p("span",de,s(i.name),1),p("span",ne,"\u5546\u54C1\u6570\u91CF: "+s(i.goods.length),1)]),_:2},1032,["onClick"])]),_:2},1024))),256))]),_:1})]),_:1})]),_:1})]),_:1})):n("",!0),o(k,null,{default:a(()=>[o(A,{modelValue:e.ejectDialog,"onUpdate:modelValue":g[3]||(g[3]=i=>e.ejectDialog=i),"custom-class":"eject-dialog",draggable:"","show-close":!1},{footer:a(()=>[p("span",le,[o($,{modelValue:e.index_dialog,"onUpdate:modelValue":g[2]||(g[2]=i=>e.index_dialog=i),label:"\u4ECA\u65E5\u4E0D\u518D\u5F39\u51FA",size:"large",style:{position:"absolute",left:"15px",bottom:"10px"}},null,8,["modelValue"]),o(j,{type:"primary",onClick:h(L)},{default:a(()=>[se]),_:1},8,["onClick"])])]),default:a(()=>[p("div",{innerHTML:e.data.template.options.index_eject},null,8,ie)]),_:1},8,["modelValue"]),o(N,{style:{"max-width":"1120px",margin:"0 auto",padding:"20px"},loading:e.loading,animated:"",count:1},{template:a(()=>[p("div",re,[o(M,{variant:"image"})])]),default:a(()=>[e.data.template.home_style=="table"?(t(),l(f,{key:0,class:"table-main-pc"},{default:a(()=>[(t(!0),r(y,null,v(e.data.goods,i=>(t(),r("div",null,[i.goods.length>0?(t(),l(D,{key:0,"empty-text":"\u8BE5\u5206\u7C7B\u4E0B\u6682\u65E0\u4EFB\u4F55\u5546\u54C1",data:i.goods,style:{width:"100%","margin-bottom":"20px"},class:"table-list"},{default:a(()=>[o(b,{label:i.name},{default:a(d=>[o(B,{to:{path:"/goods",query:{goods_id:d.row.id}}},{default:a(()=>[e.data.template.hidden_cover==0?(t(),l(H,{key:0,class:"goods-image",src:d.row.cover,fit:"cover"},null,8,["src"])):n("",!0),p("span",ce,s(d.row.name),1)]),_:2},1032,["to"])]),_:2},1032,["label"]),o(b,{label:"\u4EF7\u683C",width:"120"},{default:a(d=>[o(u,{type:"danger"},{default:a(()=>[m("\uFFE5"+s(d.row.real_price),1)]),_:2},1024)]),_:1}),e.data.template.sales==1?(t(),l(b,{key:0,label:"\u9500\u91CF",width:"120"},{default:a(d=>[o(u,{class:"",type:"info"},{default:a(()=>[m("\u9500\u91CF"+s(d.row.sales),1)]),_:2},1024)]),_:1})):n("",!0),e.data.template.stock==1?(t(),l(b,{key:1,label:"\u5E93\u5B58",width:"120"},{default:a(d=>[p("span",null,[o(u,{class:"",type:"warning"},{default:a(()=>[m("\u5E93\u5B58"+s(d.row.stock_show),1)]),_:2},1024)])]),_:1})):n("",!0),o(b,{label:"\u64CD\u4F5C",width:"100"},{default:a(d=>[o(B,{to:{path:"/goods",query:{goods_id:d.row.id}}},{default:a(()=>[o(j,{size:"small",type:"danger"},{default:a(()=>[pe]),_:1})]),_:2},1032,["to"])]),_:1})]),_:2},1032,["data"])):n("",!0)]))),256))]),_:1})):n("",!0),e.data.template.home_style=="table"?(t(),l(f,{key:1,class:"table-main-mobile"},{default:a(()=>[(t(!0),r(y,null,v(e.data.goods,i=>(t(),r("div",null,[i.goods.length>0?(t(),l(D,{key:0,data:i.goods,onRowClick:z,style:{width:"100%","margin-bottom":"10px"},class:"table-list"},{default:a(()=>[o(b,{label:i.name},{default:a(d=>[e.data.template.hidden_cover==0?(t(),r("img",{key:0,class:"goods-image",src:d.row.cover,fit:"cover"},null,8,me)):n("",!0),e.data.template.hidden_cover==1?(t(),r("div",ue)):n("",!0),e.data.template.hidden_cover==1?(t(),r("span",ge,s(d.row.name),1)):n("",!0),e.data.template.hidden_cover==0?(t(),r("span",_e,s(d.row.name),1)):n("",!0),e.data.template.hidden_cover==1?(t(),r("div",fe,[o(u,{class:"goods-tag",type:"danger"},{default:a(()=>[m("\uFFE5"+s(d.row.real_price),1)]),_:2},1024),e.data.template.sales==1?(t(),l(u,{key:0,class:"ml-2 goods-tag",type:"info"},{default:a(()=>[m("\u9500\u91CF"+s(d.row.sales),1)]),_:2},1024)):n("",!0),e.data.template.stock==1?(t(),l(u,{key:1,class:"ml-2 goods-tag",type:"warning"},{default:a(()=>[m("\u5E93\u5B58"+s(d.row.stock_show),1)]),_:2},1024)):n("",!0)])):n("",!0),e.data.template.hidden_cover==0?(t(),r("div",be,[o(u,{class:"goods-tag",type:"danger"},{default:a(()=>[m("\uFFE5"+s(d.row.real_price),1)]),_:2},1024),e.data.template.sales==1?(t(),l(u,{key:0,class:"ml-2 goods-tag",type:"info"},{default:a(()=>[m("\u9500\u91CF"+s(d.row.sales),1)]),_:2},1024)):n("",!0),e.data.template.stock==1?(t(),l(u,{key:1,class:"ml-2 goods-tag",type:"warning"},{default:a(()=>[m("\u5E93\u5B58"+s(d.row.stock_show),1)]),_:2},1024)):n("",!0)])):n("",!0)]),_:2},1032,["label"])]),_:2},1032,["data"])):n("",!0)]))),256))]),_:1})):n("",!0),e.data.template.home_style=="card"?(t(),l(f,{key:2,class:"card-main"},{default:a(()=>[(t(!0),r(y,null,v(e.data.goods,i=>(t(),r("div",null,[i.goods.length>0?(t(),r("div",he,[p("div",xe,[o(u,{class:"category-name",type:"primary",effect:"plain"},{default:a(()=>[m(s(i.name),1)]),_:2},1024)]),o(F,{justify:"start",gutter:10,class:"card-goods-list"},{default:a(()=>[(t(!0),r(y,null,v(i.goods,(d,je)=>(t(),l(C,{key:d,class:"main-card card-goods-item"},{default:a(()=>[o(w,{"body-style":{padding:"0px"}},{default:a(()=>[e.data.template.hidden_cover==0?(t(),r("div",ye,[p("img",{onClick:R=>h(x).push({path:"/goods",query:{goods_id:d.id}}),fit:"fill",src:d.cover,class:"image"},null,8,ve)])):n("",!0),p("div",we,[p("span",{class:"goods-name",onClick:R=>h(x).push({path:"/goods",query:{goods_id:d.id}})},s(d.name),9,ke),p("div",Ce,[o(F,{class:"row-bg",justify:"space-between"},{default:a(()=>[o(C,{span:12,class:"goods-price"},{default:a(()=>[p("span",null,"\uFFE5"+s(d.real_price),1)]),_:2},1024),e.data.template.stock==1?(t(),l(C,{key:0,span:12,class:"goods-stock"},{default:a(()=>[e.data.template.stock==1?(t(),l(u,{key:0,class:"ml-2",type:"warning"},{default:a(()=>[m("\u5E93\u5B58"+s(d.stock_show),1)]),_:2},1024)):n("",!0)]),_:2},1024)):n("",!0)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)])):n("",!0)]))),256))]),_:1})):n("",!0)]),_:1},8,["loading"])]),_:1})]),o(X,{pet_name:e.data.template.site.shop_pet_name,beian:e.data.template.site.beian},null,8,["pet_name","beian"])])}}});var qe=U(Fe,[["__scopeId","data-v-613b6f42"]]);export{qe as default};
